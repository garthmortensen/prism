version: 2

seeds:
  - name: raw_plans
    description: Reference table of insurance plans offered.
    config:
      column_types:
        monthly_premium: numeric(10,2)
        deductible: integer
        oop_max: integer
    columns:
      - name: plan_id
        description: Unique identifier for the plan
        tests:
          - not_null
          - unique
      - name: plan_name
        description: Name of the insurance plan
      - name: metal_level
        description: Metal tier of the plan (Bronze, Silver, Gold, Platinum)
      - name: monthly_premium
        description: Monthly premium cost
      - name: deductible
        description: Annual deductible amount
      - name: oop_max
        description: Out-of-pocket maximum amount

  - name: raw_providers
    description: Reference table of healthcare providers.
    config:
      column_types:
        zip: text
        phone: text
        npi: text
    columns:
      - name: provider_id
        description: Unique identifier for the provider
        tests:
          - not_null
          - unique
      - name: provider_name
        description: Name of the provider or facility
      - name: npi
        description: National Provider Identifier
      - name: specialty
        description: Provider specialty

  - name: raw_members
    description: Source table containing member demographic information.
    config:
      column_types:
        dob: date
        zip: text
        phone: text
        email: text
        fpl_ratio: numeric(5,2)
        hios_id: text
        ra_mm: numeric(5,3)
        year: integer
    columns:
      - name: member_id
        description: Unique identifier for the member
        tests:
          - not_null
          - unique
      - name: dob
        description: Date of birth
      - name: gender
        description: Gender (M/F)
      - name: zip
        description: Zip code of residence

  - name: raw_enrollments
    description: Source table containing member enrollment periods.
    config:
      column_types:
        start_date: date
        end_date: date
        premium_paid: numeric(10,2)
    columns:
      - name: enrollment_id
        description: Unique identifier for the enrollment record
        tests:
          - not_null
          - unique
      - name: member_id
        description: Unique identifier for the member
      - name: start_date
        description: Coverage start date
      - name: end_date
        description: Coverage end date
      - name: plan_id
        description: Identifier for the insurance plan

  - name: raw_claims
    description: Source table containing medical and pharmacy claims.
    config:
      column_types:
        claim_id: text
        member_id: text
        provider_id: text
        plan_id: text
        service_date: date
        claim_amount: numeric(12,2)
        allowed_amount: numeric(12,2)
        paid_amount: numeric(12,2)
        status: text
        diagnosis_code: text
        procedure_code: text
        charges: numeric(12,2)
        allowed: numeric(12,2)
        clean_claim_status: text
        claim_from: date
        clean_claim_out: date
        utilization: numeric(10,2)
        hcg_units_days: integer
        claim_type: text
        major_service_category: text
        provider_specialty: text
        detailed_service_category: text
        ms_drg: text
        ms_drg_description: text
        ms_drg_mdc: text
        ms_drg_mdc_desc: text
        cpt: text
        cpt_consumer_description: text
        procedure_level_1: text
        procedure_level_2: text
        procedure_level_3: text
        procedure_level_4: text
        procedure_level_5: text
        channel: text
        drug_name: text
        drug_class: text
        drug_subclass: text
        drug: text
        is_oon: integer
        best_contracting_entity_name: text
        provider_group_name: text
        ccsr_system_description: text
        ccsr_description: text
    columns:
      - name: claim_id
        description: Unique identifier for the claim
        tests:
          - not_null
          - unique
      - name: member_id
        description: Unique identifier for the member
      - name: provider_id
        description: Unique identifier for the provider
      - name: service_date
        description: Date of service
      - name: paid_amount
        description: Amount paid by the payer
      - name: diagnosis_code
        description: Primary diagnosis code (ICD-10)
      - name: claim_type
        description: Type of claim (e.g., PROFESSIONAL, INSTITUTIONAL, RX)
      - name: drug
        description: NDC code for pharmacy claims
      - name: ms_drg
        description: MS-DRG code for inpatient claims
      - name: cpt
        description: CPT/HCPCS procedure code


